
const { DataTypes } = require("sequelize");
const sequelize = require("@srcDatabase/sequelize"); // koneksi sequelize
const KythiaModel = require("@srcDatabase/modelCache");

class ServerSetting extends KythiaModel {
  static init(sequelize) {
    return super.init(
      {
        // GENERAL SETTING
        guildId: { type: DataTypes.STRING, allowNull: false, primaryKey: true },
        guildName: { type: DataTypes.STRING, allowNull: false },
        lang: { type: DataTypes.STRING, defaultValue: "en" },

        // AUTOMOD
        whitelist: { type: DataTypes.JSON, defaultValue: [] },
        badwords: { type: DataTypes.JSON, defaultValue: [] },
        admins: { type: DataTypes.JSON, defaultValue: [] },
        ignoredChannels: { type: DataTypes.JSON, defaultValue: [] },
        modLogChannelId: { type: DataTypes.STRING },

        // SERVER STATS
        serverStats: { type: DataTypes.JSON, defaultValue: [] },
        serverStatsCategoryId: { type: DataTypes.STRING, allowNull: true },

        addonSettings: { type: DataTypes.JSON, defaultValue: {} },
      },
      {
        sequelize,
        modelName: "ServerSetting",
        tableName: "bot_settings",
        timestamps: false,
      }
    );
  }
}

ServerSetting.init(sequelize);

module.exports = ServerSetting;